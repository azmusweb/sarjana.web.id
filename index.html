<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sarjana - Portal Berita</title>
  <meta name="description" content="Berita terkini dan terpercaya dari portal Sarjana">
  <meta property="og:title" content="Sarjana - Portal Berita" />
  <meta property="og:description" content="Berita terkini dan terpercaya dari portal Sarjana" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://sarjana.web.id" />
  <meta property="og:image" content="https://example.com/logo.png" />
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #fff;
      color: #000;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1rem;
    }
    header {
      text-align: center;
      margin-top: 2rem;
    }
    header img {
      max-width: 200px;
      height: auto;
    }
    #searchBar {
      margin: 2rem 0;
      width: 100%;
      max-width: 500px;
    }
    #searchBar input {
      width: 100%;
      padding: 1rem;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    #beritaList {
      width: 100%;
      max-width: 800px;
    }
    .berita-item {
      border-bottom: 1px solid #eee;
      padding: 1rem 0;
    }
    .berita-item h3 {
      margin: 0;
      font-size: 1.2rem;
    }
    .berita-item img {
      max-width: 100%;
      height: auto;
      margin-top: 0.5rem;
      border-radius: 8px;
    }
    .berita-item p {
      margin: 0.5rem 0 0;
    }
    footer {
      margin-top: 3rem;
      padding: 1rem;
      text-align: center;
      color: #777;
      font-size: 0.9rem;
    }
    @media (max-width: 600px) {
      #searchBar input {
        padding: 0.75rem;
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <img id="logo" src="" alt="Logo Sarjana" />
  </header>  <div id="searchBar">
    <input type="text" id="searchInput" placeholder="Cari berita..." />
  </div>  <div id="beritaList"></div>  <footer>
    &copy; 2025 Sarjana - Semua Hak Dilindungi
  </footer>  <script>
    const API_KEY = "AIzaSyDKOClQy1z23Hwjr9HyHmzJbuaPE9Ccbv4";
    const SPREADSHEET_ID = "1oMHeKOF2_D6deuV8T1l10_GB0wgsPGLV7WrPcJ6Qxww";
    const sheetBerita = "Live Website";
    const sheetConfig = "Config";

    const beritaList = document.getElementById("beritaList");
    const searchInput = document.getElementById("searchInput");
    const logoImg = document.getElementById("logo");

    async function fetchSheet(sheetName) {
      const url = `https://sheets.googleapis.com/v4/spreadsheets/${SPREADSHEET_ID}/values/${sheetName}?key=${API_KEY}`;
      const res = await fetch(url);
      const data = await res.json();
      return data.values;
    }

    function tampilkanBerita(data, query = "") {
      beritaList.innerHTML = "";
      const header = data[0];
      const items = data.slice(1)
        .filter(row => row[6] === "Publish" && row[0].toLowerCase().includes(query.toLowerCase()))
        .sort((a, b) => new Date(b[7]) - new Date(a[7]));

      items.forEach(row => {
        const [judul, label, gambar, isi, slug, meta, status, tanggal, type] = row;
        const item = document.createElement("div");
        item.className = "berita-item";
        item.innerHTML = `
          <h3><a href="${slug}" target="_blank">${judul}</a></h3>
          ${gambar ? `<img src="${gambar}" alt="${judul}" />` : ""}
          <p>${isi.slice(0, 150)}...</p>
          <small>${tanggal}</small>
        `;
        beritaList.appendChild(item);
      });
    }

    async function loadConfig() {
      const config = await fetchSheet(sheetConfig);
      config.slice(1).forEach(([fungsi, value]) => {
        if (fungsi === "logo") logoImg.src = value;
        if (fungsi === "meta_deskripsi") {
          document.querySelector("meta[name='description']").setAttribute("content", value);
          document.querySelector("meta[property='og:description']").setAttribute("content", value);
        }
      });
    }

    async function init() {
      const data = await fetchSheet(sheetBerita);
      tampilkanBerita(data);
      searchInput.addEventListener("input", () => tampilkanBerita(data, searchInput.value));
    }

    loadConfig();
    init();
  </script></body>
</html>